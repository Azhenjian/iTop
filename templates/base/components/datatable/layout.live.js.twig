function checkAllDataTable(table, value) {
	// Set the 'selectionMode' for the future objects to load
	var selectionMode = 'positive';
	if (value) {
		selectionMode = 'negative';
	}
	oSelectedItems{{ oUIBlock.GetOption('sListId') }} =[];
	// Mark all the displayed items as check or unchecked depending on the value
	$(table).find(':checkbox[name^=selectObj]:not([disabled])').each(function () {
		var $currentCheckbox = $(this);
		$currentCheckbox.prop('checked', value);
		$currentLine = $currentCheckbox.closest("tr");
		(value) ? $currentLine.addClass("selected") : $currentLine.removeClass("selected");
	});

	$(table).parent().parent().find(':input[name=selectionMode]').val(selectionMode);
	// Reset the list of saved selection...
	$(':input[name^=storedSelection]').remove();
	$(table).parent().find(':checkbox[name^=selectObj]').trigger("change");

	if (value) {
		$(table).DataTable().rows().select();
		$('#btn_ok_{{ oUIBlock.GetOption('sTableId') }}').prop('disabled', false);
	} else {
		$(table).DataTable().rows({page: 'current'}).deselect();
		$('#btn_ok_{{ oUIBlock.GetOption('sTableId') }}').prop('disabled', true);
	}

	return true;
}

{% if oUIBlock.GetOption("select_mode") is defined %}
	var oSelectedItems{{ oUIBlock.GetOption('sListId') }} = [];
{% endif %}